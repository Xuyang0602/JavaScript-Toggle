<!DOCTYPE html>
<html>

<head>
	<title>动态生成 Div, expand and shrink</title>
	<meta charset="utf-8">
    <script data-require="jquery@*" data-semver="3.1.1" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- <link rel="stylesheet" href="style.css" /> -->
    <!-- <script src="script.js"></script> -->
</head>

<body>
    <script>
    $(document).ready(function() {
        var count = 5;

        // var $container = $("<div></div>");
        // for(var i = 0; i < count; i++) {
        //   $("<div />", {
        //     "class": "expand",
        //     text: "this is No." + (i + 1) + " div",
        //     click: function() {
        //       $(this).toggle();
        //     }
        //   }).appendTo("body");
        // }

        var $container = $("<div id='container'></div>");
        for (var i = 0; i < count; i++) {
            var $div = $("<div class='content'></div>");
            var $btn = $("<button></button>");
            var $txt = $("<p> this is No." + (i + 1) + " div </p>");
            $div.append($btn);
            $div.append($txt);
            $container.append($div);
        }
        $("body").append($container);

        // $("#container").on('click', 'div', function() {
        //   $(this).toggle();
        // })
        $(".content").on('click', 'button', function() {
            $(this).next().toggle();
        })

    });
    </script>
</body>

</html>
